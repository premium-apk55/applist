<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ùêèùê´ùêûùê¶ùê¢ùêÆùê¶ ùêÄùê©ùê© ùêãùê¢ùê¨ùê≠ </title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #4a6cfa;
      --primary-dark: #3a5bd9;
      --secondary: #8b5cf6;
      --accent: #10b981;
      --danger: #ef4444;
      --dark: #0f172a;
      --darker: #0b1220;
      --card-bg: #1e293b;
      --text: #f1f5f9;
      --text-muted: #94a3b8;
      --border: #334155;
      --success: #22c55e;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
      color: var(--text);
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      line-height: 1.6;
      min-height: 100vh;
      padding: 16px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    /* Header Styles */
    .header {
      text-align: center;
      margin-bottom: 30px;
      padding: 15px 0;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .header::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 4px;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      border-radius: 2px;
    }
    
    .title {
      font-size: 1.8rem;
      font-weight: 800;
      margin-bottom: 8px;
      background: linear-gradient(to right, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .subtitle {
      color: var(--text-muted);
      font-size: 0.95rem;
      max-width: 600px;
      margin: 0 auto 15px;
    }
    
    .header-actions {
      display: flex;
      gap: 10px;
      margin-top: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }
    
    .history-btn, .review-btn {
      background: var(--secondary);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
    }
    
    .history-btn:hover, .review-btn:hover {
      background: #7c3aed;
    }
    
    .review-btn {
      background: var(--accent);
    }
    
    .review-btn:hover {
      background: #0da271;
    }
    
    /* Product Grid */
    .product-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 16px;
      margin-bottom: 30px;
    }
    
    /* For tablets and larger screens */
    @media (min-width: 768px) {
      .product-grid {
        grid-template-columns: repeat(3, 1fr);
      }
      
      .title {
        font-size: 2.2rem;
      }
      
      .subtitle {
        font-size: 1.1rem;
      }
    }
    
    /* For desktop screens */
    @media (min-width: 1024px) {
      .product-grid {
        grid-template-columns: repeat(4, 1fr);
      }
    }
    
    .product-card {
      background: var(--card-bg);
      border-radius: 14px;
      overflow: hidden;
      transition: all 0.3s ease;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
      border: 1px solid var(--border);
      position: relative;
    }
    
    .product-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 25px rgba(0, 0, 0, 0.3);
    }
    
    .product-image {
      width: 100%;
      height: 150px;
      object-fit: cover;
      background: #0d1326;
    }
    
    .product-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: var(--accent);
      color: white;
      padding: 3px 8px;
      border-radius: 16px;
      font-size: 11px;
      font-weight: 600;
    }
    
    .product-content {
      padding: 14px;
    }
    
    .product-name {
      font-weight: 700;
      font-size: 14px;
      margin-bottom: 6px;
      line-height: 1.3;
    }
    
    .product-price {
      color: var(--accent);
      font-weight: 700;
      font-size: 16px;
      margin-bottom: 12px;
    }
    
    .product-actions {
      display: flex;
      gap: 8px;
    }
    
    .details-btn, .buy-btn {
      flex: 1;
      padding: 8px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      font-size: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
    }
    
    .details-btn {
      background: var(--secondary);
      color: white;
    }
    
    .details-btn:hover {
      background: #7c3aed;
    }
    
    .buy-btn {
      background: var(--primary);
      color: white;
    }
    
    .buy-btn:hover {
      background: var(--primary-dark);
    }
    
    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(5px);
      z-index: 1000;
      justify-content: center;
      align-items: center;
      padding: 16px;
    }
    
    .modal-content {
      background: var(--card-bg);
      border-radius: 16px;
      max-width: 500px;
      width: 100%;
      max-height: 80vh;
      overflow-y: auto;
      padding: 20px;
      position: relative;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
    }
    
    .close-modal {
      position: absolute;
      top: 15px;
      right: 15px;
      background: var(--danger);
      color: white;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      font-size: 14px;
    }
    
    .modal-header {
      margin-bottom: 16px;
      padding-right: 30px;
    }
    
    .modal-title {
      font-size: 20px;
      margin-bottom: 8px;
      color: var(--primary);
    }
    
    .modal-image {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 16px;
    }
    
    .modal-details {
      line-height: 1.7;
      font-size: 14px;
    }
    
    /* Payment Page */
    #payment-page {
      display: none;
    }
    
    .back-btn {
      background: var(--text-muted);
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 14px;
    }
    
    .back-btn:hover {
      background: #64748b;
    }
    
    .checkout-panel {
      background: var(--card-bg);
      border-radius: 14px;
      overflow: hidden;
      margin-bottom: 25px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      border: 1px solid var(--border);
    }
    
    .panel-header {
      padding: 16px;
      border-bottom: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    
    @media (min-width: 640px) {
      .panel-header {
        flex-direction: row;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-between;
      }
    }
    
    .info-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(255, 255, 255, 0.08);
      padding: 6px 12px;
      border-radius: 50px;
      font-size: 13px;
    }
    
    .payment-method {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .payment-option {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s;
      font-size: 13px;
    }
    
    .payment-option.active {
      background: rgba(74, 108, 250, 0.2);
      border: 1px solid var(--primary);
    }
    
    .payment-logo {
      height: 20px;
      width: auto;
    }
    
    .payment-number {
      display: flex;
      align-items: center;
      gap: 8px;
      background: rgba(255, 255, 255, 0.05);
      padding: 10px 14px;
      border-radius: 8px;
      font-family: monospace;
      font-size: 14px;
    }
    
    .copy-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 5px 10px;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.2s;
      font-size: 12px;
    }
    
    .copy-btn:hover {
      background: var(--primary-dark);
    }
    
    .panel-body {
      padding: 16px;
    }
    
    .form-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
    }
    
    @media (min-width: 640px) {
      .form-grid {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    .form-group {
      margin-bottom: 12px;
    }
    
    .form-label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
      font-size: 13px;
      color: var(--text-muted);
    }
    
    .form-input {
      width: 100%;
      padding: 10px 14px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      font-family: inherit;
      font-size: 14px;
    }
    
    .form-input:focus {
      outline: none;
      border-color: var(--primary);
    }
    
    textarea.form-input {
      min-height: 90px;
      resize: vertical;
    }
    
    .panel-footer {
      padding: 16px;
      border-top: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: center;
    }
    
    @media (min-width: 640px) {
      .panel-footer {
        flex-direction: row;
        justify-content: space-between;
        align-items: center;
      }
    }
    
    .footer-note {
      font-size: 13px;
      color: var(--text-muted);
      text-align: center;
    }
    
    @media (min-width: 640px) {
      .footer-note {
        text-align: left;
      }
    }
    
    .confirm-btn {
      background: var(--accent);
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 16px;
      margin: 0 auto;
    }
    
    .confirm-btn:hover {
      background: #0da271;
    }
    
    /* Confirmation Popup */
    .confirmation-popup {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 1001;
      justify-content: center;
      align-items: center;
      padding: 16px;
    }
    
    .popup-content {
      background: var(--card-bg);
      border-radius: 16px;
      max-width: 400px;
      width: 100%;
      padding: 25px;
      text-align: center;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
      position: relative;
    }
    
    .popup-icon {
      font-size: 50px;
      color: var(--success);
      margin-bottom: 15px;
    }
    
    .popup-title {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 12px;
      color: var(--success);
    }
    
    .popup-message {
      margin-bottom: 20px;
      line-height: 1.6;
    }
    
    .popup-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
      font-size: 16px;
    }
    
    .popup-btn:hover {
      background: var(--primary-dark);
    }
    
    /* Alerts */
    .alert {
      padding: 14px;
      border-radius: 10px;
      margin-bottom: 16px;
      display: none;
      text-align: center;
    }
    
    .alert-success {
      background: rgba(34, 197, 94, 0.15);
      border: 1px solid rgba(34, 197, 94, 0.3);
      color: #22c55e;
    }
    
    .alert-error {
      background: rgba(239, 68, 68, 0.15);
      border: 1px solid rgba(239, 68, 68, 0.3);
      color: #ef4444;
    }
    
    /* History Modal */
    .history-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, ÊûÅÈÄüÂä†ÈÄüÂô®, 0.8);
      backdrop-filter: blur(5px);
      z-index: 1000;
      justify-content: center;
      align-items: center;
      padding: 16px;
    }
    
    .history-content {
      background: var(--card-bg);
      border-radius: 16px;
      max-width: 800px;
      width: 100%;
      max-height: 80vh;
      overflow-y: auto;
      padding: 20px;
      position: relative;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
    }
    
    .history-title {
      font-size: 24px;
      margin-bottom: 20px;
      text-align: center;
      color: var(--primary);
    }
    
    .history-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    
    .history-item {
      background: rgba(255, 255, 255, 0.05);
      padding: 15px;
      border-radius: 10px;
      border: 1px solid var(--border);
    }
    
    .history-product {
      font-weight: 700;
      margin-bottom: 8px;
      color: var(--accent);
    }
    
    .history-details {
      display: grid;
      grid-template-columns: 1fr;
      gap: 8px;
      font-size: 14px;
    }
    
    @media (min-width: 640px) {
      .history-details {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    .history-date {
      color: var(--text-muted);
      font-size: 12px;
      margin-top: 8px;
    }
    
    .empty-history {
      text-align: center;
      padding: 30px;
      color: var(--text-muted);
    }
    
    /* Loading Spinner */
    .loading-spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* Review Section Styles */
    .review-section {
      margin-top: 50px;
      padding-top: 30px;
      border-top: 1px solid var(--border);
    }
    
    .section-title {
      text-align: center;
      font-size: 1.8rem;
      margin-bottom: 30px;
      color: var(--primary);
    }
    
    .review-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 30px;
    }
    
    @media (min-width: 768px) {
      .review-container {
        grid-template-columns: 1fr 1fr;
      }
    }
    
    .review-form {
      background: var(--card-bg);
      padding: 20px;
      border-radius: 14px;
      border: 1px solid var(--border);
    }
    
    .review-list {
      background: var(--card-bg);
      padding: 20px;
      border-radius: 14px;
      border: 1px solid var(--border);
      max-height: 500px;
      overflow-y: auto;
    }
    
    .review-item {
      padding: 15px;
      border-bottom: 1px solid var(--border);
      margin-bottom: 15px;
    }
    
    .review-item:last-child {
      border-bottom: none;
      margin-bottom: 0;
    }
    
    .review-header {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
    }
    
    .reviewer-name {
      font-weight: 600;
      color: var(--primary);
    }
    
    .review-date {
      color: var(--text-muted);
      font-size: 12px;
    }
    
    .review-rating {
      color: gold;
      margin-bottom: 8px;
    }
    
    .review-text {
      line-height: 1.5;
    }
    
    .no-reviews {
      text-align: center;
      color: var(--text-muted);
      padding: 20px;
    }
    
    .star-rating {
      display: flex;
      flex-direction: row-reverse;
      justify-content: flex-end;
      margin-bottom: 15px;
    }
    
    .star-rating input {
      display: none;
    }
    
    .star-rating label {
      cursor: pointer;
      width: 30px;
      height: 30px;
      background: #ccc;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #444;
      font-size: 18px;
      transition: all 0.2s;
    }
    
    .star-rating input:checked ~ label,
    .star-rating label:hover,
    .star-rating label:hover ~ label {
      background: gold;
      color: #333;
    }
    
    .review-submit-btn {
      background: var(--primary);
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
      width: 100%;
      font-size: 16px;
    }
    
    .review-submit-btn:hover {
      background: var(--primary-dark);
    }
    
    /* Game ID Field */
    .game-id-field {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Product Page -->
    <div id="product-page">
      <!-- Header -->
      <div class="header">
        <h1 class="title">ùêèùê´ùêûùê¶ùê¢ùêÆùê¶ ùêÄùê©ùê© ùêãùê¢ùê¨ùê≠ </h1>
        <p class="subtitle">‡¶è‡¶ï‡¶ü‡¶ø ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü‡ßá‡¶∞ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø ‡¶∏‡¶æ‡¶•‡ßá ‡¶≤‡ßá‡¶ñ‡¶æ ‡¶Ü‡¶õ‡ßá‡•§</p>
        <div class="header-actions">
          <button class="history-btn" id="historyBtn">
            <i class="fas fa-history"></i> ‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶® ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏
          </button>
          <button class="review-btn" id="reviewBtn">
            <i class="fas fa-star"></i> ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
          </button>
        </div>
      </div>
      
      <!-- Products Grid -->
      <div id="productGrid" class="product-grid">
        <!-- Products will be dynamically inserted here -->
      </div>
      
      <!-- Review Section -->
      <section class="review-section" id="reviewSection">
        <h2 class="section-title">‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï‡¶¶‡ßá‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â</h2>
        
        <div class="review-container">
          <!-- Review Form -->
          <div class="review-form">
            <h3 style="margin-bottom: 20px; text-align: center;">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®</h3>
            
            <form id="reviewForm">
              <div class="form-group">
                <label class="form-label">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ</label>
                <input type="text" id="reviewerName" class="form-input" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" required>
              </div>
              
              <div class="form-group">
                <label class="form-label">‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç</label>
                <div class="star-rating">
                  <input type="radio" id="star5" name="rating" value="5">
                  <label for="star5"><i class="fas fa-star"></i></label>
                  <input type="radio" id="star4" name="rating" value="4">
                  <label for="star4"><i class="fas fa-star"></i></label>
                  <input type="radio" id="star3" name="rating" value="3">
                  <label for="star3"><i class="fas fa-star"></i></label>
                  <input type="radio" id="star2" name="rating" value="2">
                  <label for="star2"><i class="fas fa-star"></i></label>
                  <input type="radio" id="star1" name="rating" value="1" required>
                  <label for="star1"><i class="fas fa-star"></i></label>
                </div>
              </div>
              
              <div class="form-group">
                <label class="form-label">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â</label>
                <textarea id="reviewText" class="form-input" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ ‡¶∂‡ßá‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®..." rows="4" required></textarea>
              </div>
              
              <button type="submit" class="review-submit-btn">
                <i class="fas fa-paper-plane"></i> ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
              </button>
            </form>
          </div>
          
          <!-- Review List -->
          <div class="review-list">
            <h3 style="margin-bottom: 20px; text-align: center;">‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶ó‡ßç‡¶∞‡¶æ‡¶π‡¶ï‡¶¶‡ßá‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â</h3>
            
            <div id="reviewsList">
              <!-- Reviews will be dynamically inserted here -->
            </div>
          </div>
        </div>
      </section>
    </div>
    
    <!-- Payment Page -->
    <div id="payment-page">
      <button class="back-btn" id="backBtn">
        <i class="fas fa-arrow-left"></i> ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ‡¶Ø‡¶º ‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®
      </button>
      
      <!-- Checkout Panel -->
      <div class="checkout-panel">
        <!-- Alerts -->
        <div id="okMsg" class="alert alert-success">
          <i class="fas fa-check-circle"></i> ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶ú‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶è‡¶ü‡¶ø ‡¶∂‡ßÄ‡¶ò‡ßç‡¶∞‡¶á ‡¶™‡¶∞‡ßç‡¶Ø‡¶æ‡¶≤‡ßã‡¶ö‡¶®‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá‡•§
        </div>
        
        <div id="errMsg" class="alert alert-error">
          <i class="fas fa-exclamation-circle"></i> ‡¶ú‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æoccurred‡•§ ‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
        </div>
        
        <div class="panel-header">
          <div class="info-badge">
            <i class="fas fa-cube"></i> ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§: <strong id="selName">‚Äî</strong>
          </div>
          
          <div class="info-badge">
            <i class="fas fa-tag"></i> ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø: <strong id="selPrice">‚Äî</strong>
          </div>
          
          <div class="payment-method">
            <div class="payment-option active" data-method="bKash">
              <img src="https://i.postimg.cc/pXHZdvvM/20250904-003339.jpg" class="payment-logo" alt="bKash">
              bKash
            </div>
            <div class="payment-option" data-method="Nagad">
              <img src="https://i.postimg.cc/QMymNW8f/20250904-003410.jpg" class="payment-logo" alt="Nagad">
              Nagad
            </div>
          </div>
         ‚ö†Ô∏è ‡¶™‡¶æ‡¶∞‡ßç‡¶∏‡ßã‡¶®‡¶æ‡¶≤ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶∏‡ßá‡¶®‡ßç‡¶° ‡¶Æ‡¶æ‡¶®‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ 
          <div class="payment-number">
            <span id="payNumber">01601735574</span>
            <button class="copy-btn" id="copyBtn">
              <i class="fas fa-copy"></i> ‡¶ï‡¶™‡¶ø
            </button>
          </div>
        </div>
        
        <div class="panel-body">
          <div class="form-grid">
            <div class="form-group">
              <label class="form-label">‡¶Ø‡ßá ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶ø‡ßü‡ßá‡¶õ‡ßá‡¶® ‡¶∏‡ßá‡¶ü‡¶ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®</label>
              <input id="senderNumber" type="tel" class="form-input" placeholder="01XXXXXXXXX" maxlength="14">
            </div>
            
            <div class="form-group">
              <label class="form-label">‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®</label>
              <input id="tgUsername" type="text" class="form-input" placeholder="@your_username">
            </div>
          </div>
          
          <!-- Game ID Field (only for Color Trading product) -->
          <div class="form-group game-id-field" id="gameIdField">
            <label class="form-label">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ó‡ßá‡¶Æ UID ‡¶Ü‡¶á‡¶°‡¶ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®</label>
            <input id="gameUserId" type="text" class="form-input" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ó‡ßá‡¶Æ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡¶®">
          </div>
          
          <div class="form-group">
            <label class="form-label">‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ (‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶¨‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®)</label>
            <textarea id="details" class="form-input" placeholder="‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..."></textarea>
          </div>
        </div>
        
        <div class="panel-footer">
          <div class="footer-note">
            <i class="fas fa-info-circle"></i> ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶§ ‡¶§‡¶•‡ßç‡¶Ø ‡¶∏‡¶†‡¶ø‡¶ï‡¶≠‡¶æ‡¶¨‡ßá ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
          </div>
          
          <button id="confirmBtn" class="confirm-btn">
            <i class="fas fa-paper-plane"></i> ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Product Details Modal -->
  <div class="modal" id="detailsModal">
    <div class="modal-content">
      <div class="close-modal" id="closeModal">
        <i class="fas fa-times"></i>
      </div>
      
      <div class="modal-header">
        <h2 class="modal-title" id="modalProductName">‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</h2>
      </div>
      
      <img src="" alt="‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü‡ßá‡¶∞ ‡¶õ‡¶¨‡¶ø" class="modal-image" id="modalProductImage">
      
      <div class="modal-details" id="modalProductDetails">
        ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü‡ßá‡¶∞ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá...
      </div>
    </div>
  </div>

  <!-- Confirmation Popup -->
  <div class="confirmation-popup" id="confirmationPopup">
    <div class="popup-content">
      <div class="popup-icon" id="popupIcon">
        <i class="fas fa-check-circle"></i>
      </div>
      <h2 class="popup-title" id="popupTitle">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!</h2>
      <p class="popup-message" id="popupMessage">
        ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‡¶è‡¶¨‡¶Ç ‡¶è‡¶°‡¶Æ‡¶ø‡¶®‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ 
        ‡¶Ö‡¶≤‡ßç‡¶™ ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶ï‡ßç‡¶∑‡¶£‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶Ü‡¶á‡¶°‡¶ø‡¶§‡ßá ‡¶á‡¶®‡¶¨‡¶ï‡ßç‡¶∏‡ßá ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶¨‡ßá‡•§
      </p>
      <button class="popup-btn" id="popupOkBtn">‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá</button>
    </div>
  </div>

  <!-- History Modal -->
  <div class="history-modal" id="historyModal">
    <div class="history-content">
      <div class="close-modal" id="closeHistoryModal">
        <i class="fas fa-times"></i>
      </div>
      
      <h2 class="history-title">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶®‡ßá‡¶∞ ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏</h2>
      
      <div id="historyList" class="history-list">
        <!-- History items will be inserted here -->
      </div>
    </div>
  </div>

  <script>
  // ====== CONFIG ======
  const BOT_TOKEN = "8462668870:AAH4vJOLt7xOCsnDBuAxaYY_9wC8PGMu-5M";
  const CHAT_ID   = "6140196943";
  const PAY_NUMBER = "01601735574"; // bKash/Nagad

  // Payment method logos
  const bkashLogo = "https://i.postimg.cc/pXHZdvvM/20250904-003339.jpg";
  const nagadLogo = "https://i.postimg.cc/QMymNW8f/20250904-003410.jpg";

  // ====== PRODUCTS ======
  const products = [
    {
      id: 6,
      name: "Color Trading Hack - Life Time üöÄ",
      price: 120,
      image: "https://i.postimg.cc/J41g7qtD/20250903-201703.jpg",
      details: "‡¶ï‡¶æ‡¶≤‡¶æ ‡¶ü‡ßç‡¶∞‡ßá‡¶°‡¶ø‡¶Ç ‡¶π‡ßç‡¶Ø‡¶æ‡¶ï‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞‡¶æ ‡¶â‡¶á‡¶®‡¶ó‡ßã ‡ß©‡ß¶ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶° ‡¶ì ‡ßß ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá‡¶∞ ‡¶Ö‡¶ü‡ßã ‡¶™‡ßç‡¶∞‡ßá‡¶°‡¶ø‡¶ï‡¶∂‡¶® ‡¶™‡¶æ‡¶¨‡ßá‡¶®, ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶¨‡¶ø‡¶ó-‡¶∏‡ßç‡¶Æ‡¶≤ ‡¶™‡ßç‡¶∞‡ßá‡¶°‡¶ø‡¶ï‡¶∂‡¶®‡ßá‡¶∞ ‡¶∏‡¶†‡¶ø‡¶ï‡¶§‡¶æ ‡ßØ‡ß´% ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶ø‡¶§‡•§ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï‡ßá‡¶ü ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º, ‡¶§‡¶æ‡¶á ‡¶á‡¶®‡¶∂‡¶æ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶≠‡¶∞‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶∏‡¶ø‡¶ó‡¶®‡ßç‡¶Ø‡¶æ‡¶≤ ‡¶™‡ßá‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§ ‡¶§‡¶¨‡ßá ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑‡¶≠‡¶æ‡¶¨‡ßá ‡¶Æ‡¶®‡ßá ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá‡¶®‚Äî‡ßØ‡ß´% ‡¶∏‡¶´‡¶≤‡¶§‡¶æ ‡¶Æ‡¶æ‡¶®‡ßá ‡ßß‡ß¶‡ß¶% ‡¶®‡¶Ø‡¶º‡•§ ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶≤‡ßã‡¶≠‡ßá ‡¶™‡¶°‡¶º‡ßá ‡¶ï‡¶ñ‡¶®‡ßã‡¶á ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶∏‡ßç‡¶ü‡¶ø‡¶≤ ‡¶õ‡ßá‡¶°‡¶º‡ßá ‡¶ñ‡ßá‡¶≤‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§ ‡¶∏‡¶¨‡¶∏‡¶Æ‡¶Ø‡¶º ‡¶è‡¶ï‡¶ü‡¶ø ‡¶π‡¶æ‡¶§ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßá ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá‡¶®, ‡¶§‡¶æ‡¶∞‡¶™‡¶∞ ‡¶ñ‡ßá‡¶≤‡¶¨‡ßá‡¶®‡•§ ‡¶§‡¶æ‡¶π‡¶≤‡ßá‡¶á ‡¶á‡¶®‡¶∂‡¶æ‡¶Ü‡¶≤‡ßç‡¶≤‡¶æ‡¶π ‡¶®‡¶ø‡¶∞‡¶æ‡¶™‡¶¶ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡¶® ‡¶è‡¶¨‡¶Ç ‡¶≠‡¶æ‡¶≤‡ßã ‡¶™‡ßç‡¶∞‡¶´‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§"
    },
    {
      id: 1,
      name: "YouTube Premium APK - Life Time üöÄ",
      price: 30,
      image: "https://i.postimg.cc/yYGcTMFd/images.jpg",
      details: "‡¶è‡¶á ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡¶ü‡¶ø ‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ API ‡¶è‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø ‡¶â‡¶ö‡ßç‡¶ö‡¶Æ‡¶æ‡¶®‡ßá‡¶∞ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶∞‡¶£‡•§ ‡¶è‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®, ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°-‡¶´‡ßç‡¶∞‡¶ø ‡¶Ö‡¶≠‡¶ø‡¶ú‡ßç‡¶û‡¶§‡¶æ ‡¶â‡¶™‡¶≠‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶® ‡¶è‡¶¨‡¶Ç ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶°‡ßá ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶ö‡¶æ‡¶≤‡¶æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§ ‡¶è‡¶á ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü‡¶ü‡¶ø ‡¶≤‡¶æ‡¶á‡¶´ ‡¶ü‡¶æ‡¶á‡¶Æ ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡ßà‡¶ß‡•§"
    },
    {
      id: 2,
      name: "PicsArt Pro - Life Time üöÄ",
      price: 30,
      image: "https://i.postimg.cc/PrnfZ8vH/images-3.jpg",
      details: "PicsArt Pro ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡¶æ‡¶¨‡ßá‡¶® ‡¶ï‡ßã‡¶®‡ßã ‡¶è‡¶° ‡¶®‡ßá‡¶á, ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞, ‡¶ï‡ßã‡¶®‡ßã ‡¶ì‡¶Ø‡¶º‡¶æ‡¶ü‡¶æ‡¶∞‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï ‡¶õ‡¶æ‡¶°‡¶º‡¶æ ‡¶π‡¶æ‡¶á ‡¶ï‡ßã‡¶Ø‡¶º‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø ‡¶è‡¶°‡¶ø‡¶ü‡¶ø‡¶Ç, ‡¶∏‡ßç‡¶Æ‡ßÅ‡¶• ‡¶ì ‡¶´‡¶æ‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶¨ ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶ü‡ßÅ‡¶≤‡¶∏ ‡¶ì ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡ßá‡¶ü ‡¶≤‡¶æ‡¶á‡¶´‡¶ü‡¶æ‡¶á‡¶Æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡•§"
    },
    {
      id: 3,
      name: "KineMaster Premium Apk - Life Time üöÄ",
      price: 30,
      image: "https://i.postimg.cc/fTpGX70T/images-1.jpg",
      details: "‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡¶æ‡¶¨‡ßá‡¶® ‡¶ï‡ßã‡¶®‡ßã ‡¶è‡¶° ‡¶®‡ßá‡¶á, ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞, ‡¶ï‡ßã‡¶®‡ßã ‡¶ì‡¶Ø‡¶º‡¶æ‡¶ü‡¶æ‡¶∞‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï ‡¶õ‡¶æ‡¶°‡¶º‡¶æ ‡¶π‡¶æ‡¶á ‡¶ï‡ßã‡¶Ø‡¶º‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø ‡¶ï‡ßç‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü, ‡¶∏‡ßç‡¶Æ‡ßÅ‡¶• ‡¶ì ‡¶´‡¶æ‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶¨ ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡ßá‡¶ü ‡¶≤‡¶æ‡¶á‡¶´‡¶ü‡¶æ‡¶á‡¶Æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡•§"
    },
    {
      id: 4,
      name: "CapCut Pro Apk - Life Time üöÄ",
      price: 30,
      image: "https://i.postimg.cc/jSNydKbd/images-2.jpg",
      details: "‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá ‡¶™‡¶æ‡¶¨‡ßá‡¶® ‡¶ï‡ßã‡¶®‡ßã ‡¶è‡¶° ‡¶®‡ßá‡¶á, ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶Ü‡¶®‡¶≤‡¶ï ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞, ‡¶ï‡ßã‡¶®‡ßã ‡¶ì‡¶Ø‡¶º‡¶æ‡¶ü‡¶æ‡¶∞‡¶Æ‡¶æ‡¶∞‡ßç‡¶ï ‡¶õ‡¶æ‡¶°‡¶º‡¶æ ‡¶π‡¶æ‡¶á ‡¶ï‡ßã‡¶Ø‡¶º‡¶æ‡¶≤‡¶ø‡¶ü‡¶ø ‡¶ï‡ßç‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü, ‡¶∏‡ßç‡¶Æ‡ßÅ‡¶• ‡¶ì ‡¶´‡¶æ‡¶∏‡ßç‡¶ü ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶¨ ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∏‡ßá‡¶ü ‡¶≤‡¶æ‡¶á‡¶´‡¶ü‡¶æ‡¶á‡¶Æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡•§"
    },
    {
      id: 5,
      name: "Dual Space Pro - Life Time üöÄ",
      price: 30,
      image: "https://i.postimg.cc/28yVXGtd/unnamed-1.png",
      details: "‡¶ï‡ßã‡¶®‡ßã ‡¶è‡¶° ‡¶®‡ßá‡¶á, ‡¶ñ‡ßÅ‡¶¨ ‡¶´‡¶æ‡¶∏‡ßç‡¶ü ‡¶ì ‡¶∏‡ßç‡¶Æ‡ßÅ‡¶• ‡¶™‡¶æ‡¶∞‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶∏, ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶∏‡¶ø‡¶ï‡¶ø‡¶â‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶™‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡ßá‡¶ü, ‡¶∏‡¶π‡¶ú‡ßá‡¶á ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶Ø‡ßã‡¶ó‡ßç‡¶Ø ‡¶è‡¶¨‡¶Ç ‡¶è‡¶ï‡¶¨‡¶æ‡¶∞ ‡¶®‡¶ø‡¶≤‡ßá ‡¶≤‡¶æ‡¶á‡¶´‡¶ü‡¶æ‡¶á‡¶Æ‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá‡¶®‡•§"
    },
    {
      id: 7,
      name: "YouTube Premium API - Product 7",
      price: 30,
      image: "https://i.postimg.cc/yYGcTMFd/images.jpg",
      details: "‡¶è‡¶á ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶∞‡¶£‡¶ü‡¶ø ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑‡¶≠‡¶æ‡¶¨‡ßá ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶°‡¶ø‡¶ú‡¶æ‡¶á‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶ï‡¶Æ ‡¶°‡¶æ‡¶ü‡¶æ ‡¶ñ‡¶∞‡¶ö‡ßá HD ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø‡¶Æ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶è‡¶ï ‡¶Æ‡¶æ‡¶∏‡ßá‡¶∞ ‡¶∏‡¶æ‡¶¨‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡¶∂‡¶®‡•§"
    },
    {
      id: 8,
      name: "YouTube Premium API - Product 8",
      price: 30,
      image: "https://i.postimg.cc/yYGcTMFd/images.jpg",
      details: "‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡ßá‡¶®‡ßç‡¶∏‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶á ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü‡¶ü‡¶ø ‡¶¨‡ßá‡¶õ‡ßá ‡¶®‡¶ø‡¶®‡•§ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°-‡¶´‡ßç‡¶∞‡¶ø ‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨, ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶™‡ßç‡¶≤‡ßá‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï, ‡¶è‡¶¨‡¶Ç ‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶Æ‡¶ø‡¶â‡¶ú‡¶ø‡¶ï ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏ - ‡¶∏‡¶¨‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá‡•§ 30 ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡ßà‡¶ß‡•§"
    },
    {
      id: 9,
      name: "YouTube Premium API - Product 9",
      price: 30,
      image: "https://i.postimg.cc/yYGcTMFd/images.jpg",
      details: "‡¶è‡¶á ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü‡¶ü‡¶ø‡¶§‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶™‡¶æ‡¶¨‡ßá‡¶® ‡¶è‡¶ï‡ßç‡¶∏‡¶ï‡ßç‡¶≤‡ßÅ‡¶∏‡¶ø‡¶≠ ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶ï‡ßç‡¶∏‡ßá‡¶∏‡•§ ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶ö‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤‡ßá‡¶∞ ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡¶™‡ßç‡¶∞‡¶ø‡¶Æ‡¶ø‡¶Ø‡¶º‡¶æ‡¶Æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶â‡¶®‡ßç‡¶Æ‡ßÅ‡¶ï‡ßç‡¶§‡•§ ‡¶è‡¶ï ‡¶Æ‡¶æ‡¶∏ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡ßÅ‡¶Ø‡ßã‡¶ó‡•§"
    },
    {
      id: 10,
      name: "YouTube Premium API - Product 10",
      price: 30,
      image: "https://i.postimg.cc/yYGcTMFd/images.jpg",
      details: "‡¶∏‡¶¨‡¶ö‡ßá‡¶Ø‡¶º‡ßá ‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶è‡¶á ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü‡¶ü‡¶ø‡¶§‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶™‡¶æ‡¶¨‡ßá‡¶® ‡¶∏‡¶ï‡¶≤ ‡¶∏‡ßÅ‡¶¨‡¶ø‡¶ß‡¶æ‡•§ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°-‡¶´‡ßç‡¶∞‡¶ø ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì, ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶™‡ßç‡¶≤‡ßá‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï, ‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶® ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶è‡¶¨‡¶Ç ‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶Æ‡¶ø‡¶â‡¶ú‡¶ø‡¶ï‡•§ 30 ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∏‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶•‡¶æ‡¶ï‡¶¨‡ßá‡•§"
    }
  ];

  // DOM Elements
  const productPage = document.getElementById('product-page');
  const paymentPage = document.getElementById('payment-page');
  const grid = document.getElementById('productGrid');
  const backBtn = document.getElementById('backBtn');
  const selName = document.getElementById('selName');
  const selPrice = document.getElementById('selPrice');
  const payNumber = document.getElementById('payNumber');
  const copyBtn = document.getElementById('copyBtn');
  const confirmBtn = document.getElementById('confirmBtn');
  const senderNumber = document.getElementById('senderNumber');
  const tgUsername = document.getElementById('tgUsername');
  const gameUserId = document.getElementById('gameUserId');
  const gameIdField = document.getElementById('gameIdField');
  const details = document.getElementById('details');
  const okMsg = document.getElementById('okMsg');
  const errMsg = document.getElementById('errMsg');
  const paymentOptions = document.querySelectorAll('.payment-option');
  const detailsModal = document.getElementById('detailsModal');
  const closeModal = document.getElementById('closeModal');
  const modalProductName = document.getElementById('modalProductName');
  const modalProductImage = document.getElementById('modalProductImage');
  const modalProductDetails = document.getElementById('modalProductDetails');
  const confirmationPopup = document.getElementById('confirmationPopup');
  const popupOkBtn = document.getElementById('popupOkBtn');
  const popupIcon = document.getElementById('popupIcon');
  const popupTitle = document.getElementById('popupTitle');
  const popupMessage = document.getElementById('popupMessage');
  const historyBtn = document.getElementById('historyBtn');
  const reviewBtn = document.getElementById('reviewBtn');
  const reviewSection = document.getElementById('reviewSection');
  const historyModal = document.getElementById('historyModal');
  const closeHistoryModal = document.getElementById('closeHistoryModal');
  const historyList = document.getElementById('historyList');
  const reviewForm = document.getElementById('reviewForm');
  const reviewsList = document.getElementById('reviewsList');

  payNumber.textContent = PAY_NUMBER;

  let selectedId = null;
  let selectedMethod = 'bKash';

  // Render Products
  function renderProducts() {
    grid.innerHTML = products.map(p => `
      <div class="product-card">
        <div class="product-badge">‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ${p.id}</div>
        <img class="product-image" src="${p.image}" alt="${p.name}">
        <div class="product-content">
          <h3 class="product-name">${p.name}</h3>
          <div class="product-price">‡ß≥ ${p.price}</div>
          <div class="product-actions">
            <button class="details-btn" data-id="${p.id}">
              <i class="fas fa-info-circle"></i> ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§
            </button>
            <button class="buy-btn" data-id="${p.id}">
              <i class="fas fa-shopping-cart"></i> ‡¶ï‡¶ø‡¶®‡ßÅ‡¶®
            </button>
          </div>
        </div>
      </div>
    `).join('');

    // Add event listeners to buttons
    grid.querySelectorAll('.details-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const id = Number(e.currentTarget.dataset.id);
        showProductDetails(id);
      });
    });

    grid.querySelectorAll('.buy-btn').forEach(btn => {
      btn.addEventListener('click', (e) => {
        const id = Number(e.currentTarget.dataset.id);
        selectProduct(id);
        showPaymentPage();
      });
    });
  }

  // Show product details in modal
  function showProductDetails(id) {
    const product = products.find(p => p.id === id);
    if (!product) return;
    
    modalProductName.textContent = product.name;
    modalProductImage.src = product.image;
    modalProductDetails.textContent = product.details;
    
    detailsModal.style.display = 'flex';
  }

  // Select a product
  function selectProduct(id) {
    selectedId = id;
    updateSummary();
  }

  // Show payment page
  function showPaymentPage() {
    productPage.style.display = 'none';
    paymentPage.style.display = 'block';
    window.scrollTo(0, 0);
    
    // Show/hide game ID field based on selected product
    if (selectedId === 6) { // Color Trading Hack product
      gameIdField.style.display = 'block';
    } else {
      gameIdField.style.display = 'none';
    }
  }

  // Show product page
  function showProductPage() {
    paymentPage.style.display = 'none';
    productPage.style.display = 'block';
    window.scrollTo(0, 0);
  }

  // Update summary in payment page
  function updateSummary() {
    const p = products.find(x => x.id === selectedId);
    if (!p) {
      selName.textContent = '‚Äî';
      selPrice.textContent = '‚Äî';
      return;
    }
    selName.textContent = `${p.name}`;
    selPrice.textContent = `‡ß≥ ${p.price}`;
  }

  // Payment method selection
  paymentOptions.forEach(option => {
    option.addEventListener('click', () => {
      paymentOptions.forEach(opt => opt.classList.remove('active'));
      option.classList.add('active');
      selectedMethod = option.dataset.method;
    });
  });

  // Save transaction to local storage
  function saveTransaction(data) {
    let transactions = JSON.parse(localStorage.getItem('transactions')) || [];
    transactions.unshift({
      id: Date.now(),
      date: new Date().toLocaleString('bn-BD'),
      ...data
    });
    
    // Keep only the last 50 transactions
    if (transactions.length > 50) {
      transactions = transactions.slice(0, 50);
    }
    
    localStorage.setItem('transactions', JSON.stringify(transactions));
    return true;
  }

  // Load transactions from local storage
  function loadTransactions() {
    const transactions = JSON.parse(localStorage.getItem('transactions')) || [];
    
    if (transactions.length === 0) {
      historyList.innerHTML = `
        <div class="empty-history">
          <i class="fas fa-history" style="font-size: 48px; margin-bottom: 15px;"></i>
          <p>‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ï‡ßã‡¶®‡ßã ‡¶≤‡ßá‡¶®‡¶¶‡ßá‡¶®‡ßá‡¶∞ ‡¶á‡¶§‡¶ø‡¶π‡¶æ‡¶∏ ‡¶®‡ßá‡¶á</p>
        </div>
      `;
      return;
    }
    
    historyList.innerHTML = transactions.map(transaction => `
      <div class="history-item">
        <div class="history-product">${transaction.productName}</div>
        <div class="history-details">
          <div><strong>‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø:</strong> ‡ß≥ ${transaction.price}</div>
          <div><strong>‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ:</strong> ${transaction.paymentMethod}</div>
          <div><strong>‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ:</strong> ${transaction.tgUsername}</div>
          <div><strong>‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞:</strong> ${transaction.senderNumber}</div>
        </div>
        <div class="history-date">${transaction.date}</div>
      </div>
    `).join('');
  }

  // Show history modal
  function showHistoryModal() {
    loadTransactions();
    historyModal.style.display = 'flex';
  }

  // Save review to local storage
  function saveReview(data) {
    let reviews = JSON.parse(localStorage.getItem('reviews')) || [];
    reviews.unshift({
      id: Date.now(),
      date: new Date().toLocaleString('bn-BD'),
      ...data
    });
    
    // Keep only the last 50 reviews
    if (reviews.length > 50) {
      reviews = reviews.slice(0, 50);
    }
    
    localStorage.setItem('reviews', JSON.stringify(reviews));
    return true;
  }

  // Load reviews from local storage
  function loadReviews() {
    const reviews = JSON.parse(localStorage.getItem('reviews')) || [];
    
    if (reviews.length === 0) {
      reviewsList.innerHTML = `
        <div class="no-reviews">
          <i class="fas fa-comment-slash" style="font-size: 48px; margin-bottom: 15px;"></i>
          <p>‡¶ï‡ßã‡¶®‡ßã ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø</p>
        </div>
      `;
      return;
    }
    
    reviewsList.innerHTML = reviews.map(review => `
      <div class="review-item">
        <div class="review-header">
          <span class="reviewer-name">${review.name}</span>
          <span class="review-date">${review.date}</span>
        </div>
        <div class="review-rating">
          ${'‚òÖ'.repeat(review.rating)}${'‚òÜ'.repeat(5 - review.rating)}
        </div>
        <div class="review-text">${review.text}</div>
      </div>
    `).join('');
  }

  // Scroll to review section
  function scrollToReviews() {
    reviewSection.scrollIntoView({ behavior: 'smooth' });
  }

  // Initialize
  renderProducts();
  loadReviews();

  // Event listeners
  backBtn.addEventListener('click', showProductPage);

  copyBtn.addEventListener('click', async () => {
    try {
      await navigator.clipboard.writeText(PAY_NUMBER);
      copyBtn.innerHTML = '<i class="fas fa-check"></i> ‡¶ï‡¶™‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!';
      setTimeout(() => {
        copyBtn.innerHTML = '<i class="fas fa-copy"></i> ‡¶ï‡¶™‡¶ø';
      }, 2000);
    } catch (err) {
      alert('‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶¨‡ßç‡¶Ø‡¶∞‡ßç‡¶•: ' + err);
    }
  });

  // Close modals
  closeModal.addEventListener('click', () => {
    detailsModal.style.display = 'none';
  });

  detailsModal.addEventListener('click', (e) => {
    if (e.target === detailsModal) {
      detailsModal.style.display = 'none';
    }
  });

  closeHistoryModal.addEventListener('click', () => {
    historyModal.style.display = 'none';
  });

  historyModal.addEventListener('click', (e) => {
    if (e.target === historyModal) {
      historyModal.style.display = 'none';
    }
  });

  historyBtn.addEventListener('click', showHistoryModal);
  reviewBtn.addEventListener('click', scrollToReviews);

  // Close confirmation popup
  popupOkBtn.addEventListener('click', () => {
    confirmationPopup.style.display = 'none';
    showProductPage();
  });

  // Review form submission
  reviewForm.addEventListener('submit', (e) => {
    e.preventDefault();
    
    const name = document.getElementById('reviewerName').value.trim();
    const rating = document.querySelector('input[name="rating"]:checked');
    const text = document.getElementById('reviewText').value.trim();
    
    if (!name || !rating || !text) {
      alert('‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶ï‡¶≤ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®');
      return;
    }
    
    // Save the review
    saveReview({
      name: name,
      rating: parseInt(rating.value),
      text: text
    });
    
    // Reload reviews
    loadReviews();
    
    // Reset the form
    reviewForm.reset();
    
    alert('‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡¶ø‡¶≠‡¶ø‡¶â ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá! ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§');
  });

  // Send message to Telegram using a proxy
  async function sendToTelegram(text) {
    // Using a proxy to avoid CORS issues
    const proxyUrl = 'https://corsproxy.io/?';
    const apiUrl = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;
    
    try {
      const response = await fetch(proxyUrl + encodeURIComponent(apiUrl), {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({
          chat_id: CHAT_ID,
          text: text,
          parse_mode: 'HTML'
        })
      });
      
      if (!response.ok) {
        throw new Error('Telegram API error: ' + response.status);
      }
      
      const data = await response.json();
      return data;
    } catch (error) {
      console.error('Error sending message to Telegram:', error);
      
      // Fallback: open in a new tab
      const textEncoded = encodeURIComponent(text);
      const fallbackUrl = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${CHAT_ID}&parse_mode=HTML&text=${textEncoded}`;
      window.open(fallbackUrl, '_blank');
      
      return { ok: true, fallback: true };
    }
  }

  // Form validation
  function validate() {
    if (!selectedId) return '‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®';
    if (!senderNumber.value.trim()) return '‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®';
    if (!tgUsername.value.trim()) return '‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®';
    
    // Additional validation for Color Trading product
    if (selectedId === 6 && !gameUserId.value.trim()) {
      return '‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ó‡ßá‡¶Æ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®';
    }
    
    return null;
  }

  // Confirm button handler
  confirmBtn.addEventListener('click', async () => {
    okMsg.style.display = 'none';
    errMsg.style.display = 'none';

    const err = validate();
    if (err) {
      alert(err);
      return;
    }

    const p = products.find(x => x.id === selectedId);
    
    // Prepare the message
    let msg = [
      '<b>üßæ ‡¶®‡¶§‡ßÅ‡¶® ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶¨‡¶ø‡¶¨‡¶∞‡¶£</b>',
      `‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü: ${p.name}`,
      `‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø: ‡ß≥ ${p.price}`,
      `‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ: ${selectedMethod}`,
      `‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞: ${PAY_NUMBER}`,
      `‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶ï‡ßá‡¶∞ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞: ${senderNumber.value.trim()}`,
      `‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ: ${tgUsername.value.trim()}`
    ];
    
    // Add game user ID if it's the Color Trading product
    if (selectedId === 6) {
      msg.push(`‡¶ó‡ßá‡¶Æ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø: ${gameUserId.value.trim()}`);
    }
    
    msg.push(`‡¶¨‡¶ø‡¶¨‡¶∞‡¶£: ${details.value.trim() || '‚Äî'}`);
    msg.push(`‡¶∏‡¶Æ‡¶Ø‡¶º: ${new Date().toLocaleString('bn-BD')}`);
    
    const fullMsg = msg.join('\n');

    // Show loading state in confirmation popup
    popupIcon.innerHTML = '<div class="loading-spinner"></div>';
    popupTitle.textContent = '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ö‡¶™‡ßá‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®...';
    popupMessage.textContent = '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß‡¶ü‡¶ø ‡¶è‡¶°‡¶Æ‡¶ø‡¶®‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶π‡¶ö‡ßç‡¶õ‡ßá‡•§';
    popupOkBtn.style.display = 'none';
    confirmationPopup.style.display = 'flex';

    try {
      const res = await sendToTelegram(fullMsg);
      
      if (res && res.ok) {
        // Save transaction to history
        saveTransaction({
          productName: p.name,
          price: p.price,
          paymentMethod: selectedMethod,
          senderNumber: senderNumber.value.trim(),
          tgUsername: tgUsername.value.trim(),
          gameUserId: selectedId === 6 ? gameUserId.value.trim() : '',
          details: details.value.trim()
        });
        
        // Show success message
        popupIcon.innerHTML = '<i class="fas fa-check-circle"></i>';
        popupTitle.textContent = '‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!';
        popupMessage.innerHTML = `
          ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡¶ü‡¶ø ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá ‡¶è‡¶¨‡¶Ç ‡¶è‡¶°‡¶Æ‡¶ø‡¶®‡ßá‡¶∞ ‡¶ï‡¶æ‡¶õ‡ßá ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ 
          ‡¶Ö‡¶≤‡ßç‡¶™ ‡¶ï‡¶ø‡¶õ‡ßÅ‡¶ï‡ßç‡¶∑‡¶£‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡ßç‡¶ü‡¶ü‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶Ü‡¶á‡¶°‡¶ø‡¶§‡ßá ‡¶á‡¶®‡¶¨‡¶ï‡ßç‡¶∏‡ßá ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶¨‡ßá‡•§
        `;
        popupOkBtn.style.display = 'block';
        
        // Reset form
        senderNumber.value = '';
        tgUsername.value = '';
        gameUserId.value = '';
        details.value = '';
      } else {
        throw new Error('Failed to send');
      }
    } catch (e) {
      // Show error message
      popupIcon.innerHTML = '<i class="fas fa-exclamation-circle" style="color: #ef4444;"></i>';
      popupTitle.textContent = '‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!';
      popupMessage.textContent = '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡•§ ‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§';
      popupOkBtn.style.display = 'block';
      popupOkBtn.textContent = '‡¶™‡ßÅ‡¶®‡¶∞‡¶æ‡¶Ø‡¶º ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®';
      
      // Revert the button text on next click
      const originalText = popupOkBtn.innerHTML;
      popupOkBtn.addEventListener('click', function revert() {
        popupOkBtn.textContent = '‡¶†‡¶ø‡¶ï ‡¶Ü‡¶õ‡ßá';
        popupOkBtn.removeEventListener('click', revert);
      }, { once: true });
    }
  });
  </script>
</body>
</html>
